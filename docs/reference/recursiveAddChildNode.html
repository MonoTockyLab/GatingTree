<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Recursively Add Child Nodes in a Gating Tree — recursiveAddChildNode • GatingTree</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Recursively Add Child Nodes in a Gating Tree — recursiveAddChildNode"><meta name="description" content="This function recursively expands a gating tree by adding child nodes according to gating rules.
It is designed to iteratively apply gating decisions down to a specified depth or until no further
subdivisions are applicable (terminal nodes)."><meta property="og:description" content="This function recursively expands a gating tree by adding child nodes according to gating rules.
It is designed to iteratively apply gating decisions down to a specified depth or until no further
subdivisions are applicable (terminal nodes)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GatingTree</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/DefineNegatives.html">GatingTree: Using DefineNegatives for Determining Positive/Negative Thresholds</a></li>
    <li><a class="dropdown-item" href="../articles/GatingTree_Workflow.html">GatingTree: Analyzing Cytometry Data with GatingTree</a></li>
    <li><a class="dropdown-item" href="../articles/UsingCSVfileInputs.html">GatingTree: Initialization Using CSV File Inputs</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/MonoTockyLab/GatingTree/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Recursively Add Child Nodes in a Gating Tree</h1>
      <small class="dont-index">Source: <a href="https://github.com/MonoTockyLab/GatingTree/blob/HEAD/R/createGatingTreeObject.r" class="external-link"><code>R/createGatingTreeObject.r</code></a></small>
      <div class="d-none name"><code>recursiveAddChildNode.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function recursively expands a gating tree by adding child nodes according to gating rules.
It is designed to iteratively apply gating decisions down to a specified depth or until no further
subdivisions are applicable (terminal nodes).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">recursiveAddChildNode</span><span class="op">(</span></span>
<span>  <span class="va">currentNode</span>,</span>
<span>  <span class="va">root_data</span>,</span>
<span>  <span class="va">sampledef</span>,</span>
<span>  <span class="va">neg_gate</span>,</span>
<span>  <span class="va">expr_group</span>,</span>
<span>  <span class="va">ctrl_group</span>,</span>
<span>  <span class="va">total_cell_per_file</span>,</span>
<span>  maxDepth <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  <span class="va">usedmarkers</span>,</span>
<span>  min_cell_num <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  depth <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-currentnode">currentNode<a class="anchor" aria-label="anchor" href="#arg-currentnode"></a></dt>
<dd><p>The current node in the gating tree from which children will be generated.</p></dd>


<dt id="arg-root-data">root_data<a class="anchor" aria-label="anchor" href="#arg-root-data"></a></dt>
<dd><p>A data frame containing the data set used for gating decisions.</p></dd>


<dt id="arg-sampledef">sampledef<a class="anchor" aria-label="anchor" href="#arg-sampledef"></a></dt>
<dd><p>A data frame specifying sample definitions and group assignments.</p></dd>


<dt id="arg-neg-gate">neg_gate<a class="anchor" aria-label="anchor" href="#arg-neg-gate"></a></dt>
<dd><p>A list containing thresholds for negative gating decisions.</p></dd>


<dt id="arg-expr-group">expr_group<a class="anchor" aria-label="anchor" href="#arg-expr-group"></a></dt>
<dd><p>The name of the experimental group within `sampledef`.</p></dd>


<dt id="arg-ctrl-group">ctrl_group<a class="anchor" aria-label="anchor" href="#arg-ctrl-group"></a></dt>
<dd><p>The name of the control group within `sampledef`.</p></dd>


<dt id="arg-total-cell-per-file">total_cell_per_file<a class="anchor" aria-label="anchor" href="#arg-total-cell-per-file"></a></dt>
<dd><p>A data frame mapping file names to total cell counts, used for normalization.</p></dd>


<dt id="arg-maxdepth">maxDepth<a class="anchor" aria-label="anchor" href="#arg-maxdepth"></a></dt>
<dd><p>The maximum depth to which the tree can expand.</p></dd>


<dt id="arg-usedmarkers">usedmarkers<a class="anchor" aria-label="anchor" href="#arg-usedmarkers"></a></dt>
<dd><p>A vector of markers already used in the gating path up to the current node.</p></dd>


<dt id="arg-availablemarkers">availableMarkers<a class="anchor" aria-label="anchor" href="#arg-availablemarkers"></a></dt>
<dd><p>A vector of markers that have not yet been used for gating at the current node.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The modified current node with potentially new child nodes added, reflecting the gating tree expansion.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function checks if the current node is terminated or if its depth equals the maximum allowed depth.
If not, it applies gating rules to decide how to expand the tree by adding child nodes. These decisions
are based on statistical measures such as enrichment and entropy, calculated for different marker states.
If a child node results in a terminal condition ('Leaf'), the tree expansion stops at that node.</p>
<p>The function uses recursion to navigate and expand deeper levels of the tree, ensuring that all potential
gating paths are explored up to the `maxDepth` or until no further divisions are valid.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other GatingTree:
<code><a href="GatingTreeToDF.html">GatingTreeToDF</a>()</code>,
<code><a href="PlotDeltaEnrichment.html">PlotDeltaEnrichment</a>()</code>,
<code><a href="PruneGatingTree.html">PruneGatingTree</a>()</code>,
<code><a href="addChildNode.html">addChildNode</a>()</code>,
<code><a href="add_prune.html">add_prune</a>()</code>,
<code><a href="apply_gating_conditions.html">apply_gating_conditions</a>()</code>,
<code><a href="baseline_entropy.html">baseline_entropy</a>()</code>,
<code><a href="calculate_enrichment.html">calculate_enrichment</a>()</code>,
<code><a href="calculate_entropy.html">calculate_entropy</a>()</code>,
<code><a href="collect_all_enrichment.html">collect_all_enrichment</a>()</code>,
<code><a href="collect_all_entropy.html">collect_all_entropy</a>()</code>,
<code><a href="collect_history.html">collect_history</a>()</code>,
<code><a href="collect_leaf_enrichment.html">collect_leaf_enrichment</a>()</code>,
<code><a href="collect_markers.html">collect_markers</a>()</code>,
<code><a href="convertToDataTree.html">convertToDataTree</a>()</code>,
<code><a href="convert_to_diagrammer.html">convert_to_diagrammer</a>()</code>,
<code><a href="count_nodes.html">count_nodes</a>()</code>,
<code><a href="createChildNode.html">createChildNode</a>()</code>,
<code><a href="createGatingTreeObject.html">createGatingTreeObject</a>()</code>,
<code><a href="findNodeByPath.html">findNodeByPath</a>()</code>,
<code><a href="find_and_update_nodes.html">find_and_update_nodes</a>()</code>,
<code><a href="gating_entropy.html">gating_entropy</a>()</code>,
<code><a href="general_node_rule.html">general_node_rule</a>()</code>,
<code><a href="generate_marker_names.html">generate_marker_names</a>()</code>,
<code><a href="getNode.html">getNode</a>()</code>,
<code><a href="prune_tree.html">prune_tree</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Assuming currentNode and other required objects are predefined:</span></span></span>
<span class="r-in"><span><span class="va">updatedNode</span> <span class="op">&lt;-</span> <span class="fu">recursiveAddChildNode</span><span class="op">(</span><span class="va">currentNode</span>, <span class="va">root_data</span>, </span></span>
<span class="r-in"><span><span class="va">availableMarkers</span>, <span class="va">sampledef</span>, <span class="va">neg_gate</span>, <span class="va">expr_group</span>,</span></span>
<span class="r-in"><span><span class="va">ctrl_group</span>, <span class="va">total_cell_per_file</span>, maxDepth <span class="op">=</span> <span class="fl">3</span>, <span class="va">usedmarkers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Masahiro Ono.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

