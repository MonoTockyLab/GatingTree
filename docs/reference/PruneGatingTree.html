<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Prune a Gating Tree Based on Statistical Criteria — PruneGatingTree • GatingTree</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prune a Gating Tree Based on Statistical Criteria — PruneGatingTree"><meta name="description" content="This function prunes a gating tree by applying various statistical thresholds to
the nodes based on entropy, enrichment, and average proportion metrics. Nodes that
do not meet the specified criteria are pruned from the tree. Additionally, p-values
are adjusted for multiple comparisons."><meta property="og:description" content="This function prunes a gating tree by applying various statistical thresholds to
the nodes based on entropy, enrichment, and average proportion metrics. Nodes that
do not meet the specified criteria are pruned from the tree. Additionally, p-values
are adjusted for multiple comparisons."><meta name="google-site-verification" content="Pj4WWF5m9cqCcPqkGG75BI1_593zXImuFRpI8TnAous"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GatingTree</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/DefineNegatives.html">GatingTree: Using DefineNegatives for Determining Positive/Negative Thresholds</a></li>
    <li><a class="dropdown-item" href="../articles/GatingTree_Workflow.html">GatingTree: Analyzing Cytometry Data with GatingTree</a></li>
    <li><a class="dropdown-item" href="../articles/NavigatingMultidimensionalCytometryData.html">GatingTree: Navigating Multidimensional CytometryData</a></li>
    <li><a class="dropdown-item" href="../articles/UsingCSVfileInputs.html">GatingTree: Initialization Using CSV File Inputs</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/MonoTockyLab/GatingTree/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Prune a Gating Tree Based on Statistical Criteria</h1>
      <small class="dont-index">Source: <a href="https://github.com/MonoTockyLab/GatingTree/blob/HEAD/R/GatingTreeToDF.R" class="external-link"><code>R/GatingTreeToDF.R</code></a></small>
      <div class="d-none name"><code>PruneGatingTree.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function prunes a gating tree by applying various statistical thresholds to
the nodes based on entropy, enrichment, and average proportion metrics. Nodes that
do not meet the specified criteria are pruned from the tree. Additionally, p-values
are adjusted for multiple comparisons.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">PruneGatingTree</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  max_entropy <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  min_enrichment <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  min_average_proportion <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  p_adjust_method <span class="op">=</span> <span class="st">"BY"</span>,</span>
<span>  theta <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object, expected to be of class 'FlowObject', containing
gating tree data and metadata.</p></dd>


<dt id="arg-max-entropy">max_entropy<a class="anchor" aria-label="anchor" href="#arg-max-entropy"></a></dt>
<dd><p>Maximum allowable entropy for a node to remain in the gating tree.</p></dd>


<dt id="arg-min-enrichment">min_enrichment<a class="anchor" aria-label="anchor" href="#arg-min-enrichment"></a></dt>
<dd><p>Minimum enrichment required for a node to remain in the gating tree.</p></dd>


<dt id="arg-min-average-proportion">min_average_proportion<a class="anchor" aria-label="anchor" href="#arg-min-average-proportion"></a></dt>
<dd><p>Minimum average proportion of cells required for a node to
remain in the gating tree.</p></dd>


<dt id="arg-p-adjust-method">p_adjust_method<a class="anchor" aria-label="anchor" href="#arg-p-adjust-method"></a></dt>
<dd><p>A character string indicating the method to be used for adjusting
p-values for multiple comparisons. Defaults to 'BY' (Benjamini-Yekutieli).</p></dd>


<dt id="arg-theta">theta<a class="anchor" aria-label="anchor" href="#arg-theta"></a></dt>
<dd><p>A numeric threshold added to the enrichment values for each node.
This threshold is used to enforce a criterion where only nodes showing a steady
increase in enrichment, greater than this threshold, can be considered for retention
in the pruned gating tree. The default is zero.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns the modified object 'x' with the gating tree pruned according to the
  specified parameters. The function also attaches the pruned gating tree and a data
  frame containing node statistics to the object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function first identifies nodes that meet specified entropy and enrichment
  criteria, computes statistical metrics for these nodes, and then prunes the gating
  tree based on these metrics and average proportion criteria. Adjusted p-values are
  calculated to account for multiple testing.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other GatingTree:
<code><a href="GatingTreeToDF.html">GatingTreeToDF</a>()</code>,
<code><a href="PlotDeltaEnrichment.html">PlotDeltaEnrichment</a>()</code>,
<code><a href="addChildNode.html">addChildNode</a>()</code>,
<code><a href="add_prune.html">add_prune</a>()</code>,
<code><a href="apply_gating_conditions.html">apply_gating_conditions</a>()</code>,
<code><a href="baseline_entropy.html">baseline_entropy</a>()</code>,
<code><a href="calculate_enrichment.html">calculate_enrichment</a>()</code>,
<code><a href="calculate_entropy.html">calculate_entropy</a>()</code>,
<code><a href="collect_all_enrichment.html">collect_all_enrichment</a>()</code>,
<code><a href="collect_all_entropy.html">collect_all_entropy</a>()</code>,
<code><a href="collect_history.html">collect_history</a>()</code>,
<code><a href="collect_leaf_enrichment.html">collect_leaf_enrichment</a>()</code>,
<code><a href="collect_markers.html">collect_markers</a>()</code>,
<code><a href="convertToDataTree.html">convertToDataTree</a>()</code>,
<code><a href="convert_to_diagrammer.html">convert_to_diagrammer</a>()</code>,
<code><a href="count_nodes.html">count_nodes</a>()</code>,
<code><a href="createChildNode.html">createChildNode</a>()</code>,
<code><a href="createGatingTreeObject.html">createGatingTreeObject</a>()</code>,
<code><a href="findNodeByPath.html">findNodeByPath</a>()</code>,
<code><a href="find_and_update_nodes.html">find_and_update_nodes</a>()</code>,
<code><a href="gating_entropy.html">gating_entropy</a>()</code>,
<code><a href="general_node_rule.html">general_node_rule</a>()</code>,
<code><a href="generate_marker_names.html">generate_marker_names</a>()</code>,
<code><a href="getNode.html">getNode</a>()</code>,
<code><a href="prune_tree.html">prune_tree</a>()</code>,
<code><a href="recursiveAddChildNode.html">recursiveAddChildNode</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="va">updated_object</span> <span class="op">&lt;-</span> <span class="fu">PruneGatingTree</span><span class="op">(</span><span class="va">x</span>, min_enrichment <span class="op">=</span> <span class="fl">0.5</span>,max_entropy <span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Masahiro Ono.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

